(0,globalThis.parcelRequire6aa3.register)("jFJ1E",function(e,r){/*! chessboard.js v1.0.0 | (c) 2019 Chris Oakman | MIT License chessboardjs.com/license */!function(){var e=window.jQuery,r="abcdefgh".split(""),n="1.8.3",t=w("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR"),a={};function o(e,r,n){function t(){a=0,o&&(o=!1,s())}var a=0,o=!1,i=[],s=function(){a=window.setTimeout(t,r),e.apply(n,i)};return function(e){i=arguments,a?o=!0:s()}}function i(){return"xxxx-xxxx-xxxx-xxxx-xxxx-xxxx-xxxx-xxxx".replace(/x/g,function(e){return(16*Math.random()|0).toString(16)})}function s(e){return JSON.parse(JSON.stringify(e))}function p(e){var r=e.split(".");return{major:parseInt(r[0],10),minor:parseInt(r[1],10),patch:parseInt(r[2],10)}}function c(e,r){for(var n in r)if(r.hasOwnProperty(n))for(var t="{"+n+"}",a=r[n];-1!==e.indexOf(t);)e=e.replace(t,a);return e}function f(e){return"string"==typeof e}function u(e){return"function"==typeof e}function d(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function l(e){return"fast"===e||"slow"===e||!!d(e)&&0<=e}function h(e){return f(e)&&-1!==e.search(/^[a-h][1-8]$/)}function v(e){if(!f(e))return!1;var r=(e=(e=e.replace(/ .+$/,"")).replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")).split("/");if(8!==r.length)return!1;for(var n=0;n<8;n++)if(8!==r[n].length||-1!==r[n].search(/[^kqrnbpKQRNBP1]/))return!1;return!0}function g(r){if(!e.isPlainObject(r))return!1;for(var n in r){var t;if(r.hasOwnProperty(n)&&(!h(n)||!(f(t=r[n])&&-1!==t.search(/^[bw][KQRNBP]$/))))return!1}return!0}function w(e){if(!v(e))return!1;for(var n,t=(e=e.replace(/ .+$/,"")).split("/"),a={},o=8,i=0;i<8;i++){for(var s=t[i].split(""),p=0,c=0;c<s.length;c++)-1!==s[c].search(/[1-8]/)?p+=parseInt(s[c],10):(a[r[p]+o]=(n=s[c]).toLowerCase()===n?"b"+n.toUpperCase():"w"+n.toUpperCase(),p+=1);o-=1}return a}function b(e){if(!g(e))return!1;for(var n,t,a="",o=8,i=0;i<8;i++){for(var s=0;s<8;s++){var p=r[s]+o;e.hasOwnProperty(p)?a+=(n=e[p],t=void 0,"w"===(t=n.split(""))[0]?t[1].toUpperCase():t[1].toLowerCase()):a+="1"}7!==i&&(a+="/"),o-=1}return a.replace(/11111111/g,"8").replace(/1111111/g,"7").replace(/111111/g,"6").replace(/11111/g,"5").replace(/1111/g,"4").replace(/111/g,"3").replace(/11/g,"2")}a.alpha="alpha-d2270",a.black="black-3c85d",a.board="board-b72b1",a.chessboard="chessboard-63f37",a.clearfix="clearfix-7da63",a.highlight1="highlight1-32417",a.highlight2="highlight2-9c5d2",a.notation="notation-322f9",a.numeric="numeric-fc462",a.piece="piece-417db",a.row="row-5277c",a.sparePieces="spare-pieces-7492f",a.sparePiecesBottom="spare-pieces-bottom-ae20f",a.sparePiecesTop="spare-pieces-top-4028b",a.square="square-55d63",a.white="white-1e1d7",window.Chessboard=function(m,P){if(window.$,(!e.fn||!e.fn.jquery||(y=e.fn.jquery,x=n,y=p(y),x=p(x),O=1e5*y.major*1e5+1e5*y.minor+y.patch,!(1e5*x.major*1e5+1e5*x.minor+x.patch<=O)))&&(window.alert("Chessboard Error 1005: Unable to find a valid version of jQuery. Please include jQuery "+n+" or higher on the page\n\nExiting…"),1))return null;var y,x,O,T,q,S,E,k,C,B,I=function(r){if(""===r)return window.alert("Chessboard Error 1001: The first argument to Chessboard() cannot be an empty string.\n\nExiting…"),!1;f(r)&&"#"!==r.charAt(0)&&(r="#"+r);var n=e(r);return 1===n.length?n:(window.alert("Chessboard Error 1003: The first argument to Chessboard() must be the ID of a DOM node, an ID query selector, or a single DOM node.\n\nExiting…"),!1)}(m);if(!I)return null;"black"!==("start"===(T=P)?T={position:s(t)}:v(T)?T={position:w(T)}:g(T)&&(T={position:s(T)}),e.isPlainObject(T)||(T={}),q=P=T).orientation&&(q.orientation="white"),!1!==q.showNotation&&(q.showNotation=!0),!0!==q.draggable&&(q.draggable=!1),"trash"!==q.dropOffBoard&&(q.dropOffBoard="snapback"),!0!==q.sparePieces&&(q.sparePieces=!1),q.sparePieces&&(q.draggable=!0),q.hasOwnProperty("pieceTheme")&&(f(q.pieceTheme)||u(q.pieceTheme))||(q.pieceTheme="img/chesspieces/wikipedia/{piece}.png"),l(q.appearSpeed)||(q.appearSpeed=200),l(q.moveSpeed)||(q.moveSpeed=200),l(q.snapbackSpeed)||(q.snapbackSpeed=60),l(q.snapSpeed)||(q.snapSpeed=30),l(q.trashSpeed)||(q.trashSpeed=100),d(S=q.dragThrottleRate)&&1<=S||(q.dragThrottleRate=20),P=q;var j=null,M=null,N=null,D=null,R={},Q=2,X="white",Y={},K=null,L=null,U=null,$=!1,J={},F={},z={},A=16;function W(e,r,n){if(!0===P.hasOwnProperty("showErrors")&&!1!==P.showErrors){var t="Chessboard Error "+e+": "+r;return"console"===P.showErrors&&"object"==typeof console&&"function"==typeof console.log?(console.log(t),void(2<=arguments.length&&console.log(n))):"alert"===P.showErrors?(n&&(t+="\n\n"+JSON.stringify(n)),void window.alert(t)):void(u(P.showErrors)&&P.showErrors(e,r,n))}}function G(e){return u(P.pieceTheme)?P.pieceTheme(e):f(P.pieceTheme)?c(P.pieceTheme,{piece:e}):(W(8272,"Unable to build image source for config.pieceTheme."),"")}function H(e,r,n){var t='<img src="'+G(e)+'" ';return f(n)&&""!==n&&(t+='id="'+n+'" '),t+='alt="" class="{piece}" data-piece="'+e+'" style="width:'+A+"px;height:"+A+"px;",r&&(t+="display:none;"),c(t+='" />',a)}function V(e){var r=["wK","wQ","wR","wB","wN","wP"];"black"===e&&(r=["bK","bQ","bR","bB","bN","bP"]);for(var n="",t=0;t<r.length;t++)n+=H(r[t],!1,J[r[t]]);return n}function Z(){for(var r in j.find("."+a.piece).remove(),Y)Y.hasOwnProperty(r)&&e("#"+F[r]).append(H(Y[r]))}function _(){j.html(function(e){"black"!==e&&(e="white");var n="",t=s(r),o=8;"black"===e&&(t.reverse(),o=1);for(var i="white",p=0;p<8;p++){n+='<div class="{row}">';for(var f=0;f<8;f++){var u=t[f]+o;n+='<div class="{square} '+a[i]+" square-"+u+'" style="width:'+A+"px;height:"+A+'px;" id="'+F[u]+'" data-square="'+u+'">',P.showNotation&&(("white"===e&&1===o||"black"===e&&8===o)&&(n+='<div class="{notation} {alpha}">'+t[f]+"</div>"),0===f&&(n+='<div class="{notation} {numeric}">'+o+"</div>")),n+="</div>",i="white"===i?"black":"white"}n+='<div class="{clearfix}"></div></div>',i="white"===i?"black":"white","white"===e?o-=1:o+=1}return c(n,a)}(X,P.showNotation)),Z(),P.sparePieces&&("white"===X?(N.html(V("black")),D.html(V("white"))):(N.html(V("white")),D.html(V("black"))))}function ee(e){var r=s(Y),n=s(e);b(r)!==b(n)&&(u(P.onChange)&&P.onChange(r,n),Y=e)}function er(e,r){for(var n in z)if(z.hasOwnProperty(n)){var t=z[n];if(e>=t.left&&e<t.left+A&&r>=t.top&&r<t.top+A)return n}return"offboard"}function en(){j.find("."+a.square).removeClass(a.highlight1+" "+a.highlight2)}function et(){en();var e=s(Y);delete e[U],ee(e),Z(),M.fadeOut(P.trashSpeed),$=!1}function ea(r,n,t,o){u(P.onDragStart)&&!1===P.onDragStart(r,n,s(Y),X)||($=!0,K=n,L="spare"===(U=r)?"offboard":r,function(){for(var r in z={},F)F.hasOwnProperty(r)&&(z[r]=e("#"+F[r]).offset())}(),M.attr("src",G(n)).css({display:"",position:"absolute",left:t-A/2,top:o-A/2}),"spare"!==r&&e("#"+F[r]).addClass(a.highlight1).find("."+a.piece).css("display","none"))}function eo(r,n){M.css({left:r-A/2,top:n-A/2});var t=er(r,n);t!==L&&(h(L)&&e("#"+F[L]).removeClass(a.highlight2),h(t)&&e("#"+F[t]).addClass(a.highlight2),u(P.onDragMove)&&P.onDragMove(t,L,U,K,s(Y),X),L=t)}function ei(r){var n,t,a,o="drop";if("offboard"===r&&"snapback"===P.dropOffBoard&&(o="snapback"),"offboard"===r&&"trash"===P.dropOffBoard&&(o="trash"),u(P.onDrop)){var i=s(Y);"spare"===U&&h(r)&&(i[r]=K),h(U)&&"offboard"===r&&delete i[U],h(U)&&h(r)&&(delete i[U],i[r]=K);var p=s(Y),c=P.onDrop(U,r,K,i,p,X);"snapback"!==c&&"trash"!==c||(o=c)}"snapback"===o?function(){if("spare"!==U){en();var r=e("#"+F[U]).offset(),n={duration:P.snapbackSpeed,complete:function(){Z(),M.css("display","none"),u(P.onSnapbackEnd)&&P.onSnapbackEnd(K,U,s(Y),X)}};M.animate(r,n),$=!1}else et()}():"trash"===o?et():"drop"===o&&(en(),n=s(Y),delete n[U],n[r]=K,ee(n),t=e("#"+F[r]).offset(),a={duration:P.snapSpeed,complete:function(){Z(),M.css("display","none"),u(P.onSnapEnd)&&P.onSnapEnd(U,r,K)}},M.animate(t,a),$=!1)}R.clear=function(e){R.position({},e)},R.destroy=function(){I.html(""),M.remove(),I.unbind()},R.fen=function(){return R.position("fen")},R.flip=function(){return R.orientation("flip")},R.move=function(){if(0!=arguments.length){for(var e=!0,r={},n=0;n<arguments.length;n++)if(!1!==arguments[n]){if(function(e){if(!f(e))return!1;var r=e.split("-");return 2===r.length&&h(r[0])&&h(r[1])}(arguments[n])){var t=arguments[n].split("-");r[t[0]]=t[1]}else W(2826,"Invalid move passed to the move method.",arguments[n])}else e=!1;var a=function(e,r){var n=s(e);for(var t in r)if(r.hasOwnProperty(t)&&n.hasOwnProperty(t)){var a=n[t];delete n[t],n[r[t]]=a}return n}(Y,r);return R.position(a,e),a}},R.orientation=function(e){return 0==arguments.length?X:"white"===e||"black"===e?(X=e,_(),X):"flip"===e?(X="white"===X?"black":"white",_(),X):void W(5482,"Invalid value passed to the orientation method.",e)},R.position=function(n,o){return 0==arguments.length?s(Y):f(n)&&"fen"===n.toLowerCase()?b(Y):void((f(n)&&"start"===n.toLowerCase()&&(n=s(t)),v(n)&&(n=w(n)),g(n))?(!1!==o&&(o=!0),o?(function(r,n,t){if(0!==r.length)for(var o=0,p=0;p<r.length;p++){var c=r[p];"clear"===c.type?e("#"+F[c.square]+" ."+a.piece).fadeOut(P.trashSpeed,f):"add"!==c.type||P.sparePieces?"add"===c.type&&P.sparePieces?function(r,n,t){var o=e("#"+J[r]).offset(),s=e("#"+F[n]),p=s.offset(),c=i();e("body").append(H(r,!0,c));var f=e("#"+c);f.css({display:"",position:"absolute",left:o.left,top:o.top});var d={duration:P.moveSpeed,complete:function(){s.find("."+a.piece).remove(),s.append(H(r)),f.remove(),u(t)&&t()}};f.animate(p,d)}(c.piece,c.square,f):"move"===c.type&&function(r,n,t,o){var s=e("#"+F[r]),p=s.offset(),c=e("#"+F[n]),f=c.offset(),d=i();e("body").append(H(t,!0,d));var l=e("#"+d);l.css({display:"",position:"absolute",top:p.top,left:p.left}),s.find("."+a.piece).remove();var h={duration:P.moveSpeed,complete:function(){c.append(H(t)),l.remove(),u(o)&&o()}};l.animate(f,h)}(c.source,c.destination,c.piece,f):e("#"+F[c.square]).append(H(c.piece,!0)).find("."+a.piece).fadeIn(P.appearSpeed,f)}function f(){(o+=1)===r.length&&(Z(),u(P.onMoveEnd)&&P.onMoveEnd(s(n),s(t)))}}(function(e,n){e=s(e);var t=[],a={};for(var o in n=s(n))n.hasOwnProperty(o)&&e.hasOwnProperty(o)&&e[o]===n[o]&&(delete e[o],delete n[o]);for(o in n)if(n.hasOwnProperty(o)){var i=function(e,n,t){for(var a=function(e){for(var n,t,a,o,i,s,p,c,f=[],u=0;u<8;u++)for(var d=0;d<8;d++){var l=r[u]+(d+1);e!==l&&f.push({square:l,distance:(n=e.split(""),t=r.indexOf(n[0])+1,a=parseInt(n[1],10),o=l.split(""),i=r.indexOf(o[0])+1,s=parseInt(o[1],10),p=Math.abs(t-i),(c=Math.abs(a-s))<=p?p:c)})}f.sort(function(e,r){return e.distance-r.distance});var h=[];for(u=0;u<f.length;u++)h.push(f[u].square);return h}(t),o=0;o<a.length;o++){var i=a[o];if(e.hasOwnProperty(i)&&e[i]===n)return i}return!1}(e,n[o],o);i&&(t.push({type:"move",source:i,destination:o,piece:n[o]}),delete e[i],delete n[o],a[o]=!0)}for(o in n)n.hasOwnProperty(o)&&(t.push({type:"add",square:o,piece:n[o]}),delete n[o]);for(o in e)e.hasOwnProperty(o)&&(a.hasOwnProperty(o)||(t.push({type:"clear",square:o,piece:e[o]}),delete e[o]));return t}(Y,n),Y,n),ee(n)):(ee(n),Z())):W(6482,"Invalid value passed to the position method.",n))},R.resize=function(){A=function(){var e=parseInt(I.width(),10);if(!e||e<=0)return 0;for(var r=e-1;r%8!=0&&0<r;)r-=1;return r/8}(),j.css("width",8*A+"px"),M.css({height:A,width:A}),P.sparePieces&&I.find("."+a.sparePieces).css("paddingLeft",A+Q+"px"),_()},R.start=function(e){R.position("start",e)};var es=o(function(e){$&&eo(e.pageX,e.pageY)},P.dragThrottleRate),ep=o(function(e){$&&(e.preventDefault(),eo(e.originalEvent.changedTouches[0].pageX,e.originalEvent.changedTouches[0].pageY))},P.dragThrottleRate);return X=P.orientation,P.hasOwnProperty("position")&&("start"===P.position?Y=s(t):v(P.position)?Y=w(P.position):g(P.position)?Y=s(P.position):W(7263,"Invalid value passed to config.position.",P.position)),function(){for(var e=0;e<r.length;e++)for(var n=1;n<=8;n++){var t=r[e]+n;F[t]=t+"-"+i()}var a="KQRNBP".split("");for(e=0;e<a.length;e++){var o="w"+a[e],s="b"+a[e];J[o]=o+"-"+i(),J[s]=s+"-"+i()}}(),I.html((E=P.sparePieces,k='<div class="{chessboard}">',E&&(k+='<div class="{sparePieces} {sparePiecesTop}"></div>'),k+='<div class="{board}"></div>',E&&(k+='<div class="{sparePieces} {sparePiecesBottom}"></div>'),c(k+="</div>",a))),j=I.find("."+a.board),P.sparePieces&&(N=I.find("."+a.sparePiecesTop),D=I.find("."+a.sparePiecesBottom)),C=i(),e("body").append(H("wP",!0,C)),M=e("#"+C),Q=parseInt(j.css("borderLeftWidth"),10),R.resize(),e("body").on("mousedown mousemove","."+a.piece,function(e){e.preventDefault()}),j.on("mousedown","."+a.square,function(r){if(P.draggable){var n=e(this).attr("data-square");h(n)&&Y.hasOwnProperty(n)&&ea(n,Y[n],r.pageX,r.pageY)}}),I.on("mousedown","."+a.sparePieces+" ."+a.piece,function(r){P.sparePieces&&ea("spare",e(this).attr("data-piece"),r.pageX,r.pageY)}),j.on("mouseenter","."+a.square,function(r){if(!$&&u(P.onMouseoverSquare)){var n=e(r.currentTarget).attr("data-square");if(h(n)){var t=!1;Y.hasOwnProperty(n)&&(t=Y[n]),P.onMouseoverSquare(n,t,s(Y),X)}}}).on("mouseleave","."+a.square,function(r){if(!$&&u(P.onMouseoutSquare)){var n=e(r.currentTarget).attr("data-square");if(h(n)){var t=!1;Y.hasOwnProperty(n)&&(t=Y[n]),P.onMouseoutSquare(n,t,s(Y),X)}}}),(B=e(window)).on("mousemove",es).on("mouseup",function(e){$&&ei(er(e.pageX,e.pageY))}),"ontouchstart"in document.documentElement&&(j.on("touchstart","."+a.square,function(r){if(P.draggable){var n=e(this).attr("data-square");h(n)&&Y.hasOwnProperty(n)&&(r=r.originalEvent,ea(n,Y[n],r.changedTouches[0].pageX,r.changedTouches[0].pageY))}}),I.on("touchstart","."+a.sparePieces+" ."+a.piece,function(r){P.sparePieces&&ea("spare",e(this).attr("data-piece"),(r=r.originalEvent).changedTouches[0].pageX,r.changedTouches[0].pageY)}),B.on("touchmove",ep).on("touchend",function(e){$&&ei(er(e.originalEvent.changedTouches[0].pageX,e.originalEvent.changedTouches[0].pageY))})),R},window.ChessBoard=window.Chessboard,window.Chessboard.fenToObj=w,window.Chessboard.objToFen=b}()});
//# sourceMappingURL=chessboard-1.0.0.min.65b221a6.js.map
